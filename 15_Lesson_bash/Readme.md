### Домашнее задание к занятию "4.1. Командная оболочка Bash: Практические навыки"
1. Ответы:
    ```bash
    a=1         ------присвоение значения переменной
    b=2         ------присвоение значения переменной
    c=a+b       ------Обращения к переменным нет, в "с" будет "a+b".
    d=$a+$b		------В "d" будет значение переменных $a и $b, но не сумма, а конкатенация строк. результат "1+2"
    e=$(($a+$b))------При наличии двойных круглых скобок, работа ведеться как в языке "C". Результат будет 3.
    ```
2. Оригинальный текст скрипта
```bash
	while ((1==1)
	do
	curl https://localhost:4757
	if (($? != 0))
	then
	date >> curl.log
	fi
	done
```
В 1 строке нет закрывающей второй скобки. Нет условий выхода в случая успешного поднятия сервиса. И я бы добавил задержку, чтоб в файл скидывались данные раз в 5-20 секунд, в зависимости от важности сервиса и времени его включения.  
Корректный вариант.
```bash
	while ((1==1))
	do
		curl https://localhost:4757
		if (($? != 0))
		then
			date >> curl.log
		else 
		  	break
		fi
		sleep 10
	done
```
3. Текст скрипта для выполнения задания. Сам скрипт расположен в файле task3.sh.
```bash
#!/bin/bash

function checkip {
if [ $# -eq 0 ]
then
echo -1
else
  local arr
  arr=$@
  x=0
  while ((x<5))
  do
  echo "Next try" >> task.log
  for i in ${arr[@]}
    do
    nc -zv -w2 $i 80 >/dev/null 2>&1
    if (($? != 1))
    then
      echo $(date)  $i "is good" >> task.log
    else
      echo $(date)  $i "is down" >> task.log
    fi
    done
  x=$(($x+1))
  done
fi
}
checkip 192.168.0.1 173.194.222.113 87.250.250.242
```
Для удобства работы и нежелания дублировать код, нашел как сделать функцию. Дольше всего провозился с обработкой массива параметров.

4. Немного подредактировал скрипт из задания 3. Будет проверять пачку хостов хостов каждые 10 секунд. Если какойто хост упадет его IP адрес попадет в файл error.log и выполнение скрипта прервется.
```bash
#!/bin/bash

function checkip {
if [ $# -eq 0 ]
then
echo -1
else
  local arr
  arr=$@
  x=0
  while ((1==1))
  do
  for i in ${arr[@]}
    do
    nc -zv -w2 $i 80 >/dev/null 2>&1
    if (($? != 0))
    then
      echo $i >> error.log
      exit
    fi
    done
  sleep 10
  done
fi
}
checkip 173.194.222.113 87.250.250.242 192.168.0.1 87.250.250.242
```